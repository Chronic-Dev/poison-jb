CC = gcc
AS = arm-elf-as
OBJCOPY = arm-elf-objcopy
BIN2C = ../../../tools/bin2c
CFLAGS_OSX = -lusb-1.0 -framework CoreFoundation -framework IOKit
CFLAGS_LNX =  -lusb-1.0

all:	
	$(AS) -mthumb -o payload.o payload.S
	$(OBJCOPY) -O binary payload.o payload.bin
	$(BIN2C) payload.bin payload.h payload
	$(CC) -o steaks4uce.o -c steaks4uce.c $(CFLAGS_LNX)
		
clean:
	rm -rf *.o *.bin
